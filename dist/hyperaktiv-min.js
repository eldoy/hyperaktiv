!function(){const O=[],j=new WeakMap,k=new WeakMap;function m(e){return e&&"object"==typeof e}function v(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,configurable:!0})}function P(e,t,n){v(e,"__key",t),v(e,"__parent",n)}const r=["String","Number","Object","Array","Boolean","Date"];let A=null;const M=new Set;function S(){for(const e of M)e();M.clear(),A=null}window.observe=function d(p,_={}){const{props:n,ignore:o,batch:b,deep:y=!0,bubble:g,bind:e}=_;if(p.__observed)return p;const h=(e,t)=>(!n||n instanceof Array&&n.includes(e)||"function"==typeof n&&n(e,t))&&(!o||!(o instanceof Array&&o.includes(e))&&!("function"==typeof o&&o(e,t))),w=(j.set(p,new Map),y&&Object.entries(p).forEach(function([e,t]){m(t)&&h(e,t)&&(p[e]=d(t,_),g&&P(p[e],e,p))}),new Proxy(p,{get(e,t){if("__observed"===t)return!0;if(h(t,p[t])&&O.length){const n=j.get(p),o=(n.has(t)||n.set(t,new Set),k.get(O[0]));o&&(o.has(p)||o.set(p,new Set),o.get(p).add(t)),n.get(t).add(O[0])}return p[t]},set(e,t,n){if("__handler"===t)v(p,"__handler",n);else if(h(t,n)){if(Array.isArray(p)&&"length"===t||p[t]!==n){var o=y&&m(n);const s=j.get(p);var r=p[t];m(r)&&delete p[t],p[t]=o?d(n,_):n,o&&g&&P(p[t],t,p);const i=[t];let e=p;for(;e&&(!e.__handler||!1!==e.__handler(i,n,r,w));)e=e.__key&&e.__parent?(i.unshift(e.__key),e.__parent):null;const u=s.get(t);if(u)for(const f of u){const l=k.get(f);f.__disposed||l&&(!l.has(p)||!l.get(p).has(t))?u.delete(f):f!==O[0]&&(b?(c=f,a=b,null===A&&(A=setTimeout(S,!0===a?0:a)),M.add(c)):f())}}}else p[t]=n;var c,a;return!0}}));var t;return e&&(t=p,Object.getOwnPropertyNames(t).concat(Object.getPrototypeOf(t)&&r.indexOf(Object.getPrototypeOf(t).constructor.name)<0?Object.getOwnPropertyNames(Object.getPrototypeOf(t)):[]).filter(e=>"constructor"!==e&&"function"==typeof t[e]).forEach(e=>p[e]=p[e].bind(w))),w},window.computed=function(e,{autoRun:t=!0,callback:r,bind:c,disableTracking:a=!1}={}){const s=new Proxy(e,{apply(t,n,o){function e(e){a||k.set(r||s,new WeakMap),O.unshift(r||s);e=e?e():t.apply(c||n,o);return O.shift(),e}return o.push({computeAsync:e}),e()}});return t&&s(),s},window.dispose=function(e){return k.delete(e),e.__disposed=!0}}();